---
title: "OSTEP - 가상화: 프로세스의 개념"
lang: "ko"
layout: post
date: 2021-07-18 16:44:25 +0900
categories: [os,]
tags: [os,]
---

(OSTEP의 가상화 파트 중, 프로세스의 개념에 대해 정리하는 글입니다.)

일상에서 컴퓨터를 사용하며 프로그램을 실행하는 순간들은 굉장히 많을 것이다. 지금 VSCode로 글을 쓰는 것도 프로그램의 실행에 의해 가능하게 된 것일터. 하지만 프로그램은 굉장히 단순한 일을 (무지막지하게 빠르고 엄청난 반복횟수로) 할 뿐이다. 바로 명령어를 실행하는 것이다. 프로세서는 프로그램의 명령어를 반입(fetch)하고, 해석(decode)하고, 실행(execute)한다. 하나의 명령어 작업이 끝나면 다음 명령어로, 프로그램이 완전히 종료될 때까지 실행을 계속한다. 이는 Von Neumann 컴퓨팅 모델의 기초적인 부분에 해당되는 이야기이지만, OSTEP은 이러한 모델을 기준으로 이야기를 전개한다.

하지만 단순히 프로그램을 실행하는 것을 가능하게만 한다고 해서 모든 것이 해결되지는 않는다. 프로그램의 실행을 용이하게 하고(더 나아가 동시에 여러 개의 프로그램을 실행하는 것을 가능하게 하고), 프로그램 간의 메모리 공유를 가능하게 하며, 장치와 상호작용을 가능케 하는 등, 다양한 일들을 처리할 수 있는 시스템이 필요하게 되는데, 이를 책임지는 소프트웨어를 **운영체제(operating system, OS)**라고 부른다. 그리고 운영체제는 앞에서 언급한 일을 하기 위하여 **가상화(virtualization)**라고 불리는 기법을 사용한다. 운영체제는 프로세서, 메모리, 또는 디스크와 같은 물리적(physical)인 자원을 이용하여 일반적이고, 강력하고, 사용이 편리한 가상 형태의 자원을 생성한다. 떄문에 운영체제를 때로는 **가상머신(virtual machine)**이라고 부른다.

위에서 프로그램은 단순히 명령어를 실행하는 일을 할 뿐이라고 말했는데, 사실 프로그램 자체는 생명이 없는 존재이다. 프로그램은 보조기억장치(하드디스크, SSD)에 존재하며 실행을 위한 명령어와 정적 데이터의 묶음이다. 프로그램의 명령어와 정적 데이터가 메모리에 적재되면 프로그램은 실행되며, 마치 생명력을 가진듯한 프로그램의 상태를 **프로세스(process)**라고 부른다. 즉 프로세스는 실행 중인 프로그램으로 정의할 수 있다.

누구나 일상에서 컴퓨터를 사용하여 여러 개의 프로그램을 동시에 실행 할 것이다. 여러 프로그램을 동시에 실행할 수 있으면 시스템을 쉽게 사용할 수 있다. 그러나 사실 상 ::하나의 CPU, 즉 프로세서는 한 순간에 하나의 프로세스만 실행할 수 있다::. 하지만 분명히 사용자의 입장에서는, 거의 무한개에 가까운 CPU가 존재하는 것처럼, 여러 개의 프로세스가 한꺼번에 실행되는 것처럼 느껴진다. 그렇다면 CPU는 어떻게 이러한 일을 가능하게 하는 것일까?

CPU는 한 번에 하나의 프로세스만 실행할 수 있기 때문에, 운영체제는 CPU를 **가상화**하여 사용자로 하여금 여러 개의 프로세스가 한꺼번에 동작하는 듯한 환상을 준다. 